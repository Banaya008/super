<%
  name, current = view_chain.shift
  current =
    if current.kind_of?(Symbol)
      instance_variable_get(current)
    else
      current
    end

  if !current
    Rails.logger.warn do
      "Super::ViewChain encountered a nil view: #{name.inspect}."
    end
  end
%>
<% if current %>
  <% if view_chain.empty? %>
    <%= super_render(current) %>
  <% else %>
    <%= super_render(current) do %>
      <%= super_render(view_chain) %>
    <% end %>
  <% end %>
<% end %>
