<% layout.resolve(self) %>

<% layout.resolved_headers.each do |partial| %>
  <%= Super::Partial.render(partial, template: self) %>
<% end %>

<% if layout.resolved_asides.empty? %>
  <% layout.resolved_mains.each do |partial| %>
    <%= Super::Partial.render(partial, template: self) %>
  <% end %>
<% else %>
  <div class="flow-root -mx-2">
    <div class="md:float-left md:w-9/12 px-2">
      <% layout.resolved_mains.each do |partial| %>
        <%= Super::Partial.render(partial, template: self) %>
      <% end %>
    </div>

    <div class="md:float-right md:w-3/12 px-2">
      <% layout.resolved_asides.each do |partial| %>
        <%= Super::Partial.render(partial, template: self) %>
      <% end %>
    </div>
  </div>
<% end %>

<% layout.resolved_footers.each do |partial| %>
  <%= Super::Partial.render(partial, template: self) %>
<% end %>
